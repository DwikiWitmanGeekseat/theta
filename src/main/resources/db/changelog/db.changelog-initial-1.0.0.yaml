databaseChangeLog:
  - changeSet:
      id: 1673930216-1
      author: thetaDev
      changes:
        - createTable:
            tableName: person
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: created
                  type: datetime(6)
              - column:
                  name: creator
                  type: VARCHAR(255)
              - column:
                  name: creator_id
                  type: VARCHAR(50)
              - column:
                  name: edited
                  type: datetime(6)
              - column:
                  name: editor
                  type: VARCHAR(255)
              - column:
                  name: editor_id
                  type: VARCHAR(50)
              - column:
                  name: storage_map
                  type: TEXT
              - column:
                  name: active
                  type: SMALLINT
              - column:
                  name: birth
                  type: date
              - column:
                  name: email
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
              - column:
                  name: name
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
              - column:
                  name: password
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
  - changeSet:
      id: 1673930216-2
      author: thetaDev
      changes:
        - createTable:
            tableName: role
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: created
                  type: datetime(6)
              - column:
                  name: creator
                  type: VARCHAR(255)
              - column:
                  name: creator_id
                  type: VARCHAR(50)
              - column:
                  name: edited
                  type: datetime(6)
              - column:
                  name: editor
                  type: VARCHAR(255)
              - column:
                  name: editor_id
                  type: VARCHAR(50)
              - column:
                  name: storage_map
                  type: TEXT
              - column:
                  name: active
                  type: SMALLINT
              - column:
                  name: birth
                  type: date
              - column:
                  name: name
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
  - changeSet:
      id: 1673930216-3
      author: thetaDev
      changes:
        - createTable:
            tableName: person_roles
            columns:
              - column:
                  name: roles_id
                  type: BIGINT
              - column:
                  name: person_id
                  type: BIGINT
  - changeSet:
      id: 1673930216-4
      author: thetaDev
      changes:
        - createTable:
            tableName: product
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: created
                  type: datetime(6)
              - column:
                  name: creator
                  type: VARCHAR(255)
              - column:
                  name: creator_id
                  type: VARCHAR(50)
              - column:
                  name: edited
                  type: datetime(6)
              - column:
                  name: editor
                  type: VARCHAR(255)
              - column:
                  name: editor_id
                  type: VARCHAR(50)
              - column:
                  name: storage_map
                  type: TEXT
              - column:
                  name: active
                  type: SMALLINT
              - column:
                  name: birth
                  type: date
              - column:
                  name: name
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
              - column:
                  name: quantity
                  type: INT
                  constraints:
                    nullable: false
              - column:
                  name: slug
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
              - column:
                  name: shop_id
                  type: BIGINT
                  constraints:
                    nullable: false
  - changeSet:
      id: 1673930216-5
      author: thetaDev
      changes:
        - createTable:
            tableName: shop
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: created
                  type: datetime(6)
              - column:
                  name: creator
                  type: VARCHAR(255)
              - column:
                  name: creator_id
                  type: VARCHAR(50)
              - column:
                  name: edited
                  type: datetime(6)
              - column:
                  name: editor
                  type: VARCHAR(255)
              - column:
                  name: editor_id
                  type: VARCHAR(50)
              - column:
                  name: storage_map
                  type: TEXT
              - column:
                  name: active
                  type: SMALLINT
              - column:
                  name: birth
                  type: date
              - column:
                  name: name
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
              - column:
                  name: slug
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
  - changeSet:
      id: 1673930216-6
      author: thetaDev
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: roles_id
            baseTableName: person_roles
            constraintName: fk_rolesid_role
            deferrable: false
            initiallyDeferred: false
            onDelete: RESTRICT
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: role
  - changeSet:
      id: 1673930216-7
      author: thetaDev
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: shop_id
            baseTableName: product
            constraintName: fk_shopid_shop
            deferrable: false
            initiallyDeferred: false
            onDelete: RESTRICT
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: shop
  - changeSet:
      id: 1673930216-8
      author: thetaDev
      changes:
        - addForeignKeyConstraint:
            baseColumnNames: person_id
            baseTableName: person_roles
            constraintName: fk_personid_person
            deferrable: false
            initiallyDeferred: false
            onDelete: RESTRICT
            onUpdate: RESTRICT
            referencedColumnNames: id
            referencedTableName: person
  - changeSet:
      id: 1673930216-9
      author: thetaDev
      changes:
        - sqlFile:
            dbms: '!h2,  oracle,  mysql, mariadb'
            encoding: utf8
            endDelimiter: ;
            relativeToChangelogFile: true
            path: sql/v1-initialdata.sql
            splitStatements: true
            stripComments: true